# üì° Sensors Monitor ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è Home Assistant

## üîß –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
`sensors_monitor` ‚Äî —ç—Ç–æ –∫–∞—Å—Ç–æ–º–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è Home Assistant, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å **—Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤** (`binary_sensor`, –Ω–∞–ø—Ä–∏–º–µ—Ä: –¥–≤–∏–∂–µ–Ω–∏–µ, –¥–≤–µ—Ä—å, –ø—Ä–æ—Ç–µ—á–∫–∞, –¥—ã–º).
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å **–∑–Ω–∞—á–µ–Ω–∏—è –æ–±—ã—á–Ω—ã—Ö —Å–µ–Ω—Å–æ—Ä–æ–≤** (`sensor`) —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏ (`above`/`below`).
- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ä–∞–∑–Ω—ã–µ –∫–∞–Ω–∞–ª—ã (`notify`, email, –º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è).
- –û–∑–≤—É—á–∏–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ **–Ø–Ω–¥–µ–∫—Å.–°—Ç–∞–Ω—Ü–∏–∏** (TTS).
- –§–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å **–ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã** (–ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –∏ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º).

---

## ‚öôÔ∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
1. **Binary Sensors**
   - –ü—Ä–∏ `ON`: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ ¬´üö® –¢—Ä–µ–≤–æ–≥–∞: –î–∞—Ç—á–∏–∫ –¥–≤–∏–∂–µ–Ω–∏—è (–ì–æ—Å—Ç–∏–Ω–∞—è)¬ª
   - –ü—Ä–∏ `OFF`: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ ¬´‚úÖ –ù–æ—Ä–º–∞: –î–∞—Ç—á–∏–∫ –¥–≤–∏–∂–µ–Ω–∏—è (–ì–æ—Å—Ç–∏–Ω–∞—è)¬ª

2. **Sensors —Å –ø–æ—Ä–æ–≥–∞–º–∏**
   –ó–∞–¥–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª–∞:
   ```yaml
   sensor.temperature_bedroom; above=28; message=üî• –ñ–∞—Ä–∫–æ –≤ —Å–ø–∞–ª—å–Ω–µ: {value}¬∞C
   sensor.humidity_bathroom; above=80; message=üíß –í–ª–∞–∂–Ω–æ—Å—Ç—å –≤ –≤–∞–Ω–Ω–æ–π: {value}%
   sensor.co2_office; above=1000; message=‚ö†Ô∏è –ü–æ–≤—ã—à–µ–Ω–Ω—ã–π CO‚ÇÇ: {value} ppm
   sensor.temperature_kids; below=18; message=‚ùÑÔ∏è –•–æ–ª–æ–¥–Ω–æ –≤ –¥–µ—Ç—Å–∫–æ–π: {value}¬∞C
   ```
   - –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞ ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ/–æ–∑–≤—É—á–∫–∞.
   - –ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –≤ –Ω–æ—Ä–º—É ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ ¬´‚úÖ –í –Ω–æ—Ä–º–µ¬ª.

3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
   - `notify_on` ‚Äî —Å–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ `ON`
   - `notify_off` ‚Äî —Å–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ `OFF`
   - `notify_alerts` ‚Äî –∫—É–¥–∞ —Å–ª–∞—Ç—å —Ç—Ä–µ–≤–æ–≥–∏ –ø–æ —Å–µ–Ω—Å–æ—Ä–∞–º –∏ –æ—Ç—á—ë—Ç—ã (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–æ–≤)
   - `notify_tts` ‚Äî —Å–ø–∏—Å–æ–∫ `media_player` –¥–ª—è –æ–∑–≤—É—á–∫–∏ —Å–æ–±—ã—Ç–∏–π

4. **–û—Ç—á—ë—Ç—ã**
   - –ü–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç)
   - –ü–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ 09:00 –∏ 21:00)
   - –í –æ—Ç—á—ë—Ç–µ: —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π + –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

5. **–°–µ—Ä–≤–∏—Å `sensors_monitor.send_report`**
   - –ú–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ ¬´–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ ‚Üí –°–ª—É–∂–±—ã¬ª
   - –ü—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç –∏ —Ä–∞—Å—Å—ã–ª–∞–µ—Ç –≤ `notify_alerts`

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –°–∫–æ–ø–∏—Ä—É–π –ø–∞–ø–∫—É `custom_components/sensors_monitor/` –≤ `/config/custom_components/`.
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Home Assistant.
3. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –¥–æ–±–∞–≤—å –Ω–æ–≤—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é ‚Üí **Sensors Monitor**.
4. –ó–∞–ø–æ–ª–Ω–∏ –ø–æ–ª—è –≤ –º–∞—Å—Ç–µ—Ä–µ:
   - Binary sensors
   - Thresholds (–ø—Ä–∞–≤–∏–ª–∞)
   - Notify On/Off/Alerts
   - Notify TTS (–Ω–∞–ø—Ä–∏–º–µ—Ä, `media_player.yandex_station_spalnya`)
   - Interval (–º–∏–Ω—É—Ç—ã)
   - Report Schedule (–≤—Ä–µ–º—è –æ—Ç—á—ë—Ç–æ–≤, –ø–æ—Å—Ç—Ä–æ—á–Ω–æ)

---

## üìÑ –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```yaml
binary_sensors:
  - binary_sensor.motion_hall
  - binary_sensor.door_balcony

sensors_thresholds: |
  sensor.temperature_bedroom; above=28; message=üî• –ñ–∞—Ä–∫–æ –≤ —Å–ø–∞–ª—å–Ω–µ: {value}¬∞C
  sensor.humidity_bathroom; above=80; message=üíß –í–ª–∞–∂–Ω–æ—Å—Ç—å –≤ –≤–∞–Ω–Ω–æ–π: {value}%
  sensor.co2_office; above=1000; message=‚ö†Ô∏è CO‚ÇÇ –≤—ã—Å–æ–∫–∏–π: {value} ppm
  sensor.temperature_kids; below=18; message=‚ùÑÔ∏è –•–æ–ª–æ–¥–Ω–æ –≤ –¥–µ—Ç—Å–∫–æ–π: {value}¬∞C

notify_on: notify.dom
notify_off: notify.mobile_dom
notify_alerts: |
  notify.dom
  notify.email_dom
notify_tts: |
  media_player.yandex_station_detskaya
  media_player.yandex_station_gostinaya
  media_player.yandex_station_spalnya

interval: 15
report_schedule: |
  09:00
  21:00
```

---

## üîî –ü—Ä–∏–º–µ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- üö® –¢—Ä–µ–≤–æ–≥–∞: –î–∞—Ç—á–∏–∫ –¥–≤–∏–∂–µ–Ω–∏—è –≤ –≥–æ—Å—Ç–∏–Ω–æ–π (ON)
- ‚úÖ –ù–æ—Ä–º–∞: –î–∞—Ç—á–∏–∫ –¥–≤–∏–∂–µ–Ω–∏—è –≤ –≥–æ—Å—Ç–∏–Ω–æ–π (OFF)
- ‚ö†Ô∏è –ü–æ—Ä–æ–≥: sensor.temperature_bedroom ‚Äî –ñ–∞—Ä–∫–æ –≤ —Å–ø–∞–ª—å–Ω–µ: 29 ¬∞C
- ‚úÖ –í –Ω–æ—Ä–º–µ: sensor.temperature_bedroom
- ‚è±Ô∏è –û—Ç—á—ë—Ç:
  ```
  ‚Ä¢ –î–∞—Ç—á–∏–∫ –¥–≤–∏–∂–µ–Ω–∏—è –≤ –≥–æ—Å—Ç–∏–Ω–æ–π (–∞–∫—Ç–∏–≤–Ω–æ 0—á 12–º 5—Å)
  ‚Ä¢ sensor.co2_office: ‚ö†Ô∏è CO‚ÇÇ –≤—ã—Å–æ–∫–∏–π: 1150 ppm
  ```

---

## üì¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ TTS
–ü—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω—ã—Ö –Ø–Ω–¥–µ–∫—Å.–°—Ç–∞–Ω—Ü–∏—è—Ö —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –≥–æ–ª–æ—Å–æ–º –æ–∑–≤—É—á–∏–≤–∞—Ç—å:
- ¬´–¢—Ä–µ–≤–æ–≥–∞: –¥–∞—Ç—á–∏–∫ –¥–≤–∏–∂–µ–Ω–∏—è –≤ –≥–æ—Å—Ç–∏–Ω–æ–π¬ª
- ¬´–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ —Å–ø–∞–ª—å–Ω–µ ‚Äî –∂–∞—Ä–∫–æ: 29 –≥—Ä–∞–¥—É—Å–æ–≤¬ª
- ¬´–í—Å–µ –¥–∞—Ç—á–∏–∫–∏ –≤ –Ω–æ—Ä–º–µ¬ª
